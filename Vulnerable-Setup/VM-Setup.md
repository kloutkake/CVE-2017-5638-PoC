# Vulnerable Environment Setup for CVE-2017-5638

## Table of Contents

- [Prerequisites](#prerequisites)
- [Installing Java](#step-2-installing-java)
- [Installing Apache Tomcat](#step-3-installing-apache-tomcat)
- [Installing Vulnerable Apache Struts](#step-4-installing-vulnerable-apache-struts)
- [Deploying a Vulnerable Web Application](#step-5-deploying-a-vulnerable-web-application)
- [Verifying the Setup](#step-6-verifying-the-setup)

---

## Prerequisites

Ensure you have the following before starting:

- A virtualization platform like **VirtualBox**, **VMware**, or **KVM**.
- A Linux distribution installed (e.g., **Ubuntu**).
- **Java Development Kit (JDK)** or **Java Runtime Environment (JRE)**.
- **Apache Tomcat** or a compatible servlet container.
- Vulnerable versions of **Apache Struts 2** (pre-2.3.32 or 2.5.10.1).

---

## Installing Java

Apache Struts requires Java to run, so you need to install **JDK** or **JRE**.
- sudo apt install openjdk-8-jdk

---

## Installing Apache Tomcat

Tomcat is a servlet container required to run Java web applications, like the vulnerable Apache Struts application. We install it to deploy and test the web app.
- sudo apt install tomcat8
- sudo systemctl start tomcat8

---

## Installing Vulnerable Apache Struts

- Download a vulnerable version of Struts 2 then extract it and set it up: [Version prior to 2.3.32 or 2.5.10.1](https://archive.apache.org/dist/struts/)
- sudo mv struts<version>.war /var/lib/tomcat8/webapps/
- sudo systemctl restart tomcat8

---

## Deploying a Vulnerable Web Application

- Create a simple Struts application and deply in Tomcat.
- sudo cp your-web-app.war /var/lib/tomcat8/webapps/
- sudo systemctl restart tomcat8

---

## Verifying the Setup

Before running the exploit, ensure that the vulnerable environment is set up correctly.
- http://<your-vm-ip>:8080/your-web-app
- Use the PoC script by sending a crafted HTTP request with a malicious header.
